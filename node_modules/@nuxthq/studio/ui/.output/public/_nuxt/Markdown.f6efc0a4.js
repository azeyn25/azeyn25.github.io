import{r as g,l as d,u as b,N as h,e as w,h as f,o as x,a as y,b as $}from"./entry.1438ab79.js";const v={defaultToken:"",tokenPostfix:".md",control:/[\\`*_\[\]{}()#+\-\.!]/,noncontrol:/[^\\`*_\[\]{}()#+\-\.!]/,escapes:/\\(?:@control)/,jsescapes:/\\(?:[btnfr\\"']|[0-7][0-7]?|[0-3][0-7]{2})/,empty:["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param"],tokenizer:{root:[[/^---$/,{token:"",next:"@frontmatter",nextEmbedded:"yaml"}],{include:"markdown"}],frontmatter:[[/^\s*---\s*$/,{token:"",next:"@markdown",nextEmbedded:"@pop",bracket:"@close"}],[/.*$/,"variable.source"]],markdown:[[/^(\s{0,3})(#+)((?:[^\\#]|@escapes)+)((?:#+)?)/,["white","keyword","keyword","keyword"]],[/^\s*(=+|\-+)\s*$/,"keyword"],[/^\s*((\*[ ]?)+)\s*$/,"meta.separator"],[/^\s*>+/,"comment"],[/^\s*([\*\-+]|\d+\.)\s/,"keyword"],[/^(\t|[ ]{4})[^ ].*$/,"string"],[/^\s*~~~\s*((?:\w|[\/\-#])+)?\s*$/,{token:"string",next:"@codeblock"}],[/^\s*```\s*((?:\w|[\/\-#])+)\s*$/,{token:"string",next:"@codeblockgh",nextEmbedded:"$1"}],[/^\s*```\s*$/,{token:"string",next:"@codeblock"}],[/^\s*(:{2,})([\w-]+)/,"tag","@componentWithData"],{include:"@linecontent"}],componentWithData:[[/{/,"tag","@attributes"],[/^\s*---\s*$/,{token:"",next:"@componentData",nextEmbedded:"yaml"}],[/^\s*::+\s*$/,"tag","@pop"],{include:"@component"}],component:[[/^\s*#[\w_-]*\s*$/,"attribute.name.html"],{include:"@markdown"}],componentData:[[/^\s*---\s*$/,{token:"",next:"@pop",nextEmbedded:"@pop",bracket:"@close"}],[/.*$/,"variable.source"]],attributes:[[/[^}=][^\s=}]*[\s.#]*/,"attribute.name.html"],[/[^}=][^\s=}]*(})/,["attribute.name.html",{token:"tag",next:"@pop"}]],[/(=)("[^"]*"|[^"\s=]*)/,["","string.html"]],[/}/,"tag","@pop"]],codeblock:[[/^\s*~~~\s*$/,{token:"string",next:"@pop"}],[/^\s*```\s*$/,{token:"string",next:"@pop"}],[/.*$/,"variable.source"]],codeblockgh:[[/```\s*$/,{token:"variable.source",next:"@pop",nextEmbedded:"@pop"}],[/[^`]+/,"variable.source"]],linecontent:[[/&\w+;/,"string.escape"],[/@escapes/,"escape"],[/\b__([^\\_]|@escapes|_(?!_))+__\b/,"strong"],[/\*\*([^\\*]|@escapes|\*(?!\*))+\*\*/,"strong"],[/\b_[^_]+_\b/,"emphasis"],[/\*([^\\*]|@escapes)+\*/,"emphasis"],[/`([^\\`]|@escapes)+`/,"variable"],[/^{+[^}]*\}+/,"string.link"],[/[^\*\_\)\]]\{+[^}]*\}+/,"string.link"],[/(!?\[)((?:[^\]\\]|@escapes)*)(\]\([^\)]+\))/,["string.link","","string.link"]],[/\{/,{token:"tag",next:"@attributes"}],[/(:)([\w-]+)({)/,["tag","tag",{token:"tag",next:"@attributes"}]],[/(:)([\w-]+)/,["tag","tag"]],[/(\[)([^\]]*)(\])({)/,["string.link","","string.link",{token:"tag",next:"@attributes"}]],[/(\[)([^\]]*)(\])/,["string.link","","string.link"]],{include:"html"}],html:[[/<(\w+)\/>/,"tag"],[/<(\w+)/,{cases:{"@empty":{token:"tag",next:"@tag.$1"},"@default":{token:"tag",next:"@tag.$1"}}}],[/<\/(\w+)\s*>/,{token:"tag"}],[/<!--/,"comment","@comment"]],comment:[[/[^<\-]+/,"comment.content"],[/-->/,"comment","@pop"],[/<!--/,"comment.content.invalid"],[/[<\-]/,"comment.content"]],tag:[[/[ \t\r\n]+/,"white"],[/(type)(\s*=\s*)(")([^"]+)(")/,["attribute.name.html","delimiter.html","string.html",{token:"string.html",switchTo:"@tag.$S2.$4"},"string.html"]],[/(type)(\s*=\s*)(')([^']+)(')/,["attribute.name.html","delimiter.html","string.html",{token:"string.html",switchTo:"@tag.$S2.$4"},"string.html"]],[/(\w+)(\s*=\s*)("[^"]*"|'[^']*')/,["attribute.name.html","delimiter.html","string.html"]],[/\w+/,"attribute.name.html"],[/\/>/,"tag","@pop"],[/>/,{cases:{"$S2==style":{token:"tag",switchTo:"embeddedStyle",nextEmbedded:"text/css"},"$S2==script":{cases:{$S3:{token:"tag",switchTo:"embeddedScript",nextEmbedded:"$S3"},"@default":{token:"tag",switchTo:"embeddedScript",nextEmbedded:"text/javascript"}}},"@default":{token:"tag",next:"@pop"}}}]],embeddedStyle:[[/[^<]+/,""],[/<\/style\s*>/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}],[/</,""]],embeddedScript:[[/[^<]+/,""],[/<\/script\s*>/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}],[/</,""]]}},l="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.30.1/min/",_=a=>new Promise((e,s)=>{const t=window.document.createElement("script");t.type="text/javascript",t.src=l+a,t.addEventListener("load",e),t.addEventListener("error",s),window.document.body.appendChild(t)}),S=h(async()=>{await _("vs/loader.min.js"),window.require.config({paths:{vs:`${l}/vs`}});const a=await new Promise(e=>window.require(["vs/editor/editor.main"],e));return window.MonacoEnvironment={getWorkerUrl:function(){return`data:text/javascript;charset=utf-8,${encodeURIComponent(`
        self.MonacoEnvironment = {
          baseUrl: '${l}'
        };
        importScripts('${l}vs/base/worker/workerMain.js');`)}`}},a.languages.typescript.typescriptDefaults.setCompilerOptions({...a.languages.typescript.typescriptDefaults.getCompilerOptions(),noUnusedLocals:!1,noUnusedParameters:!1,allowUnreachableCode:!0,allowUnusedLabels:!0,strict:!0}),a.languages.register({id:"mdc"}),a.languages.setMonarchTokensProvider("mdc",v),{monaco:a}});function E(a,e){const s=g(!1);let t;const o=n=>{!s.value||t&&t.setValue(n)};let i=n=>{};return(async()=>{const{monaco:n}=await S();i=r=>{n.editor.setModelLanguage(t.getModel(),r)},d(a,()=>{var m;const r=b(a);if(!r)return;const p=()=>{if(e.language==="typescript")return"ts";if(e.language==="javascript")return"js";if(e.language==="html")return"html"},k=n.editor.createModel(e.code,e.language,n.Uri.parse(`file:///root/${Date.now()}.${p()}`));t=n.editor.create(r,{readOnly:e.readOnly,model:k,tabSize:2,wordWrap:"on",insertSpaces:!0,autoClosingQuotes:"always",detectIndentation:!1,folding:!1,glyphMargin:!1,lineNumbersMinChars:3,overviewRulerLanes:0,automaticLayout:!0,theme:"vs-dark",minimap:{enabled:!1},onDidCreateEditor:e==null?void 0:e.onDidCreateEditor}),s.value=!0,(m=t.getModel())==null||m.onDidChangeContent(()=>{var u;(u=e.onChanged)==null||u.call(e,t.getValue())})},{flush:"post",immediate:!0})})(),{setContent:o,setLanguage:i}}const C={class:"relative h-full w-full"},j=w({__name:"Markdown",props:{filename:{type:String,default:""},modelValue:{type:String,required:!0},language:{type:String,default:""}},emits:["update:modelValue"],setup(a,{emit:e}){const s=a,t=g(),o=f(()=>{if(s.language)return s.language;switch(s.filename.split(".").pop()){case"vue":return"html";case"js":return"javascript";case"ts":return"typescript";case"json":return"json";default:return"mdc"}}),{setContent:i,setLanguage:c}=E(t,{language:o.value,code:s.modelValue,readOnly:!1,onChanged(n){s.modelValue!==n&&e("update:modelValue",n)},onDidCreateEditor(){}});return d(()=>o.value,n=>{c(n)}),d(()=>s.modelValue,()=>i(s.modelValue)),(n,r)=>(x(),y("div",C,[$("div",{ref_key:"target",ref:t,class:"h-full w-full"},null,512)]))}});export{j as default};
